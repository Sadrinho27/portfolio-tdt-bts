import{j as r}from"./index-e422a01a.js";import{r as m,m as b}from"./framer-901699ae.js";import{s as v}from"./styles-c850200d.js";import{C as S,P as L}from"./Preload-de65d1fa.js";import{O as T,a as k,u as D,D as P}from"./Computers-0e07d39d.js";import{S as F,s as g}from"./SectionWrapper-64ed2fa2.js";import"./three-2a4309b7.js";const I=()=>{const{scene:t}=D("./planet/scene.gltf",void 0,e=>{const a=new P;e.setDRACOLoader(a)});return r.jsx("primitive",{object:t,scale:2.5,"position-y":0,"rotation-y":0})},M=()=>r.jsxs(S,{frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},shadows:!0,children:[r.jsx(T,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),r.jsx(m.Suspense,{fallback:r.jsx(k,{}),children:r.jsx(I,{})}),r.jsx(L,{all:!0})]}),d={_origin:"https://api.emailjs.com"},O=(t,e="https://api.emailjs.com")=>{d._userID=t,d._origin=e},w=(t,e,a)=>{if(!t)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!a)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class j{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const N=(t,e,a={})=>new Promise((i,n)=>{const o=new XMLHttpRequest;o.addEventListener("load",({target:s})=>{const l=new j(s);l.status===200||l.text==="OK"?i(l):n(l)}),o.addEventListener("error",({target:s})=>{n(new j(s))}),o.open("POST",d._origin+t,!0),Object.keys(a).forEach(s=>{o.setRequestHeader(s,a[s])}),o.send(e)}),q=(t,e,a,i)=>{const n=i||d._userID;return w(n,t,e),N("/api/v1.0/email/send",JSON.stringify({lib_version:"3.12.1",user_id:n,service_id:t,template_id:e,template_params:a}),{"Content-type":"application/json"})},z=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},A=(t,e,a,i)=>{const n=i||d._userID,o=z(a);w(n,t,e);const s=new FormData(o);return s.append("lib_version","3.12.1"),s.append("service_id",t),s.append("template_id",e),s.append("user_id",n),N("/api/v1.0/email/send-form",s)},R={init:O,send:q,sendForm:A},y=({label:t,value:e,onChange:a,placeholder:i,name:n,type:o})=>r.jsxs("label",{className:"flex flex-col",children:[r.jsx("span",{className:"text-secondary font-medium mb-2",children:t}),r.jsx("input",{type:o,name:n,value:e,onChange:a,placeholder:i,className:`\r
        bg-black/40 backdrop-blur-sm\r
        py-3 px-5\r
        placeholder:text-gray-300\r
        text-white-100 rounded-lg outline-none border border-secondary\r
        focus:border-accent transition-all duration-300 font-medium\r
      `})]}),V=()=>{const t=m.useRef(),[e,a]=m.useState({name:"",email:"",message:""}),[i,n]=m.useState(!1),[o,s]=m.useState(""),[l,h]=m.useState(""),[f,u]=m.useState(""),p=c=>{const{name:x,value:_}=c.target;a({...e,[x]:_})},E=c=>/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(c),C=c=>{if(c.preventDefault(),s(""),h(""),u(""),!e.name.trim())return h("Le nom est requis.");if(!E(e.email))return s("Email invalide.");n(!0),R.send("service_75jizp4","template_cq8n1ra",{name:e.name,email:e.email,message:e.message},"CQfzJyMQlrsY0bZZQ").then(()=>{n(!1),u("Merci ! Je reviendrai vers vous rapidement."),a({name:"",email:"",message:""})}).catch(x=>{n(!1),console.error(x),u("Erreur d'envoi, veuillez réessayer.")})};return r.jsxs("div",{className:"xl:mt-12 flex xl:flex-row flex-col-reverse gap-10 overflow-hidden",children:[r.jsxs(b.div,{variants:g("left","tween",.2,1),className:`\r
          flex-[0.75] \r
          bg-black/50 backdrop-blur-lg border border-secondary \r
          p-8 rounded-2xl shadow-lg shadow-red-900/30\r
        `,children:[r.jsx("p",{className:v.sectionSubText,children:"Contact"}),r.jsx("h3",{className:v.sectionHeadText,children:"Contacte moi"}),r.jsxs("form",{ref:t,onSubmit:C,className:"mt-8 flex flex-col gap-6",children:[r.jsx(y,{label:"Votre nom",name:"name",value:e.name,onChange:p,placeholder:"Insérez votre nom...",type:"text"}),l&&r.jsx("p",{className:"text-red-500 text-sm animate-pulse",children:l}),r.jsx(y,{label:"Adresse email",name:"email",value:e.email,onChange:p,placeholder:"Votre adresse e-mail",type:"email"}),o&&r.jsx("p",{className:"text-red-500 text-sm animate-pulse",children:o}),r.jsxs("label",{className:"flex flex-col",children:[r.jsx("span",{className:"text-secondary font-medium mb-2",children:"Votre message"}),r.jsx("textarea",{name:"message",value:e.message,onChange:p,placeholder:"Écrivez votre message...",rows:6,className:`\r
                bg-black/40 backdrop-blur-sm\r
                py-3 px-5 placeholder:text-gray-300 text-white-100\r
                rounded-lg outline-none border border-secondary\r
                focus:border-accent transition-all duration-300 font-medium\r
              `})]}),r.jsx("button",{type:"submit",className:`\r
              bg-gradient-to-r from-secondary to-accent\r
              hover:from-accent hover:to-red-dark\r
              py-3 px-8 rounded-xl text-white font-bold\r
              shadow-lg shadow-red-900/30\r
              transition-all duration-300\r
            `,children:i?"Envoi...":"Envoyer"}),f&&r.jsx("p",{className:"text-green-500 mt-2 animate-fadeIn",children:f})]})]}),r.jsx(b.div,{variants:g("right","tween",.2,1),className:"xl:flex-1 xl:h-auto md:h-[550px] h-[350px]",children:r.jsx(M,{})})]})},K=F(V,"contact");export{K as default};
